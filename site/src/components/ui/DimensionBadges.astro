---
import type { Dimensions } from '../../lib/types';

interface Props {
  dimensions: Dimensions;
  compact?: boolean;
  class?: string;
}

const { dimensions, compact = false, class: className = '' } = Astro.props;

const labels = {
  existence: { short: 'E', long: 'Existencia', icon: 'üìã' },
  when: { short: 'C', long: 'Cu√°ndo', icon: 'üìÖ' },
  how: { short: 'H', long: 'C√≥mo', icon: '‚öôÔ∏è' },
  funding: { short: 'F', long: 'Fondos', icon: 'üí∞' },
};

type DimensionKey = keyof typeof labels;
const dimensionKeys: DimensionKey[] = ['existence', 'when', 'how', 'funding'];
---

<div class={`flex flex-wrap gap-1.5 ${className}`}>
  {dimensionKeys.map((key) => {
    const value = dimensions[key];
    const label = labels[key];
    const active = value === 1;
    
    return compact ? (
      <span
        class:list={[
          'dimension-badge',
          active ? 'active' : 'inactive'
        ]}
        title={label.long}
      >
        {label.short}{active ? '‚úì' : '‚óã'}
      </span>
    ) : (
      <span
        class:list={[
          'dimension-badge',
          active ? 'active' : 'inactive'
        ]}
      >
        {label.icon}
        <span>{label.long}</span>
        {active ? (
          <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg>
        ) : (
          <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        )}
      </span>
    );
  })}
</div>
