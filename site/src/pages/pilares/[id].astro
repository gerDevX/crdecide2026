---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ScoreBar from '../../components/ui/ScoreBar.astro';
import DimensionBadges from '../../components/ui/DimensionBadges.astro';
import EvidenceLink from '../../components/ui/EvidenceLink.astro';
import { 
  pillars, 
  getPillarCardData, 
  getProposalsByPillar,
  getPdfUrl
} from '../../lib/data';
import { PILLAR_ICONS, CRITICAL_PILLARS } from '../../lib/types';
import type { PillarId } from '../../lib/types';

export function getStaticPaths() {
  return pillars.map(pillar => ({
    params: { id: pillar.pillar_id.toLowerCase() },
    props: { pillarId: pillar.pillar_id }
  }));
}

const { pillarId } = Astro.props;
const pillarData = getPillarCardData(pillarId as PillarId);
const proposals = getProposalsByPillar(pillarId as PillarId);
const icon = PILLAR_ICONS[pillarId as PillarId];
const isCritical = CRITICAL_PILLARS.includes(pillarId as PillarId);
const weightPercent = Math.round(pillarData.pillar.weight * 100);
const avgPercent = Math.round((pillarData.avgScore / 4) * 100);

// Group proposals by candidate for display
const proposalsByCandidate = proposals.reduce((acc, p) => {
  if (!acc[p.candidate_id]) acc[p.candidate_id] = [];
  acc[p.candidate_id].push(p);
  return acc;
}, {} as Record<string, typeof proposals>);

// Helper para obtener nombre del candidato
function getCandidateName(candidate: any): string {
  const name = candidate?.candidate_name;
  if (name && name !== 'Por determinar' && name !== 'no_especificado') {
    return name;
  }
  return candidate?.party_name || 'N/A';
}

// Descripciones detalladas de cada pilar (qu√© abarca)
const PILLAR_DESCRIPTIONS: Record<string, string> = {
  'P1': 'Eval√∫a las propuestas relacionadas con el manejo responsable de las finanzas del Estado, incluyendo control del gasto p√∫blico, sostenibilidad de la deuda, eficiencia tributaria y equilibrio fiscal.',
  'P2': 'Analiza los planes para generar empleo formal, atraer inversi√≥n extranjera, apoyar a las PYMES, fomentar el emprendimiento y fortalecer el sector productivo nacional.',
  'P3': 'Revisa las estrategias para combatir la criminalidad, fortalecer la polic√≠a, mejorar el sistema penitenciario, reducir la violencia y proteger la seguridad de las personas.',
  'P4': 'Examina las propuestas para reformar la CCSS, reducir listas de espera, mejorar la atenci√≥n m√©dica, garantizar el acceso a medicamentos y fortalecer la salud p√∫blica.',
  'P5': 'Eval√∫a los planes para mejorar la calidad educativa, formar docentes, actualizar curr√≠culos, reducir deserci√≥n escolar y fortalecer la educaci√≥n t√©cnica.',
  'P6': 'Analiza las iniciativas de protecci√≥n ambiental, acci√≥n clim√°tica, conservaci√≥n de recursos naturales, energ√≠as limpias y desarrollo sostenible.',
  'P7': 'Revisa las propuestas de modernizaci√≥n del Estado, simplificaci√≥n de tr√°mites, digitalizaci√≥n gubernamental, transparencia y eficiencia institucional.',
  'P8': 'Examina los programas de reducci√≥n de pobreza, protecci√≥n a grupos vulnerables, ayudas sociales, acceso a vivienda y desarrollo comunitario.',
  'P9': 'Eval√∫a las estrategias de relaciones internacionales, comercio exterior, tratados de libre comercio y posicionamiento de Costa Rica en el mundo.',
  'P10': 'Analiza los planes de desarrollo de carreteras, puentes, transporte p√∫blico, puertos, aeropuertos e infraestructura nacional.',
};

// C√≥mo afecta al ciudadano cada pilar
const PILLAR_CITIZEN_IMPACT: Record<string, string> = {
  'P1': 'üí∞ Impacto directo: Si no hay responsabilidad fiscal, aumentan los impuestos, sube el costo de vida y hay menos recursos para servicios p√∫blicos como salud y educaci√≥n.',
  'P2': 'üë∑ Impacto directo: M√°s empleos formales significa m√°s oportunidades de trabajo digno con seguro social, mejores salarios y estabilidad econ√≥mica para las familias.',
  'P3': 'üîí Impacto directo: Una mejor seguridad permite a las familias salir tranquilas a la calle, que los negocios prosperen y que los barrios sean lugares seguros.',
  'P4': 'üè• Impacto directo: Menos tiempo en listas de espera, mejor atenci√≥n m√©dica, acceso a medicamentos cuando los necesita y hospitales funcionando correctamente.',
  'P5': 'üìö Impacto directo: Mejor educaci√≥n para sus hijos y nietos, m√°s oportunidades de empleo para j√≥venes, maestros capacitados y escuelas con buenos recursos.',
  'P6': 'üåø Impacto directo: Aire y agua m√°s limpios, protecci√≥n de recursos naturales para futuras generaciones, menos vulnerabilidad ante desastres naturales.',
  'P7': 'üì± Impacto directo: Menos filas y tr√°mites engorrosos, servicios p√∫blicos m√°s r√°pidos y eficientes, gobierno que responde a las necesidades ciudadanas.',
  'P8': 'üè† Impacto directo: Ayuda para quienes m√°s lo necesitan, programas de vivienda accesible, protecci√≥n de adultos mayores y personas en condici√≥n de pobreza.',
  'P9': 'üåç Impacto directo: M√°s oportunidades de exportaci√≥n para productores nacionales, mejor imagen del pa√≠s, cooperaci√≥n internacional para desarrollo.',
  'P10': 'üöó Impacto directo: Mejores carreteras para viajar seguro, transporte p√∫blico eficiente, menos tiempo en presas y mejor conectividad entre comunidades.',
};
---

<BaseLayout title={pillarData.pillar.pillar_name}>

  <!-- ============================================
       DASHBOARD MODE (Default) - Modo Visual Detallado
       ============================================ -->
  <div class="mode-dashboard-content">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <!-- Breadcrumb -->
    <nav class="mb-6 text-sm">
        <a href="/pilares" class="text-cyan-600 hover:text-cyan-700 font-medium flex items-center gap-2 w-fit">
          <span>‚Üê</span> Volver a Pilares
        </a>
    </nav>

      <!-- Header Card Mejorado -->
      <header class={`dashboard-pilar-header ${isCritical ? 'critical' : ''}`}>
        <div class="dashboard-header-grid">
          <!-- Left: Icon and Title -->
          <div class="dashboard-header-left">
            <div class="dashboard-icon-row">
              <span class="dashboard-pilar-icon">{icon}</span>
              <div class="dashboard-badges">
                <span class="dashboard-badge-id">{pillarId}</span>
            {isCritical && (
                  <span class="dashboard-badge-critical">‚≠ê Pilar Cr√≠tico</span>
            )}
          </div>
        </div>
            <h1 class="dashboard-pilar-title">{pillarData.pillar.pillar_name}</h1>
          </div>

          <!-- Right: Weight and Stats -->
          <div class="dashboard-header-right">
            <div class={`dashboard-weight-card ${isCritical ? 'critical' : ''}`}>
              <div class="dashboard-weight-value">
                <span class="dashboard-weight-number">{weightPercent}</span>
                <span class="dashboard-weight-symbol">%</span>
              </div>
              <span class="dashboard-weight-label">Peso en evaluaci√≥n</span>
            </div>
        </div>
      </div>
      
        <!-- Descripci√≥n del Pilar -->
        <div class="dashboard-pilar-description">
          <div class="dashboard-desc-icon">üìã</div>
          <div class="dashboard-desc-content">
            <h2 class="dashboard-desc-title">¬øQu√© eval√∫a este pilar?</h2>
            <p class="dashboard-desc-text">
              {PILLAR_DESCRIPTIONS[pillarId] || 'Informaci√≥n no disponible.'}
            </p>
          </div>
        </div>

        <!-- Impacto al Ciudadano -->
        <div class={`dashboard-citizen-impact ${isCritical ? 'critical' : ''}`}>
          <p class="dashboard-impact-text">
            {PILLAR_CITIZEN_IMPACT[pillarId] || ''}
          </p>
        </div>

        <!-- Stats Row -->
        <div class="dashboard-stats-row">
          <div class="dashboard-stat-item">
            <div class={`dashboard-stat-value ${isCritical ? 'critical' : ''}`}>
              {avgPercent}%
            </div>
            <div class="dashboard-stat-label">Promedio general</div>
          </div>
          <div class="dashboard-stat-divider"></div>
          <div class="dashboard-stat-item">
            <div class="dashboard-stat-value">{pillarData.topCandidates.length}</div>
            <div class="dashboard-stat-label">Candidatos evaluados</div>
          </div>
          <div class="dashboard-stat-divider"></div>
          <div class="dashboard-stat-item">
            <div class="dashboard-stat-value">{proposals.length}</div>
            <div class="dashboard-stat-label">Propuestas analizadas</div>
          </div>
        </div>

        <!-- Progress Bar -->
        <div class="dashboard-progress-container">
          <div class="dashboard-progress-labels">
            <span>0%</span>
            <span>Promedio: {avgPercent}%</span>
            <span>100%</span>
          </div>
          <div class="dashboard-progress-bar">
            <div class={`dashboard-progress-fill ${isCritical ? 'critical' : ''}`} style={`width: ${avgPercent}%`}></div>
          </div>
      </div>
    </header>

      <!-- Leyenda de Interpretaci√≥n -->
      <div class="dashboard-legend">
        <h3 class="dashboard-legend-title">üìä ¬øC√≥mo interpretar el porcentaje de cobertura?</h3>
        <div class="dashboard-legend-grid">
          <div class="dashboard-legend-item perfect">
            <span class="dashboard-legend-dot"></span>
            <div>
              <strong>100%</strong>
              <span>Propuesta completa: existe, con plazo, mecanismo y financiamiento</span>
            </div>
          </div>
          <div class="dashboard-legend-item high">
            <span class="dashboard-legend-dot"></span>
            <div>
              <strong>75-99%</strong>
              <span>Propuesta bien desarrollada</span>
            </div>
          </div>
          <div class="dashboard-legend-item medium">
            <span class="dashboard-legend-dot"></span>
            <div>
              <strong>50-74%</strong>
              <span>Propuesta con informaci√≥n parcial</span>
            </div>
          </div>
          <div class="dashboard-legend-item low">
            <span class="dashboard-legend-dot"></span>
            <div>
              <strong>0-49%</strong>
              <span>Propuesta incompleta o vaga</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Combined Ranking + Proposals Section -->
      <section class="dashboard-candidates-section">
        <div class="dashboard-section-header">
          <div class="dashboard-section-icon">üèÜ</div>
          <div>
            <h2 class="dashboard-section-title">Ranking de Candidatos y Propuestas</h2>
            <p class="dashboard-section-subtitle">
              Candidatos ordenados por calidad de propuesta en este pilar
            </p>
          </div>
        </div>

        <div class="dashboard-candidates-grid">
          {pillarData.topCandidates.map((item, index) => {
            const candidateProposals = proposalsByCandidate[item.candidate.candidate_id] || [];
            const bestProposal = candidateProposals
              .sort((a, b) => {
                const scoreA = a.dimensions.existence + a.dimensions.when + a.dimensions.how + a.dimensions.funding;
                const scoreB = b.dimensions.existence + b.dimensions.when + b.dimensions.how + b.dimensions.funding;
                return scoreB - scoreA;
              })[0];
            
            const scorePercent = Math.round((item.score.effective_score / 4) * 100);
            const candidateName = getCandidateName(item.candidate);
            const medals = ['ü•á', 'ü•à', 'ü•â'];
            const hasMedal = index < 3;
            
            return (
              <div class={`dashboard-candidate-card ${hasMedal ? 'top-three' : ''} ${isCritical ? 'pillar-critical' : ''}`}>
                <!-- Header -->
                <div class="dashboard-card-header">
                  <div class="dashboard-rank-container">
                    {hasMedal ? (
                      <span class="dashboard-medal">{medals[index]}</span>
                    ) : (
                      <span class={`dashboard-rank-badge ${index < 5 ? 'top-five' : ''}`}>
                        {index + 1}
                      </span>
                    )}
                  </div>
                  
                  <div class="dashboard-candidate-info">
                    <h3 class="dashboard-candidate-name">{candidateName}</h3>
                    <p class="dashboard-candidate-party">{item.candidate.party_name}</p>
                  </div>
                  
                  <div class="dashboard-score-container">
                    <div class={`dashboard-score-badge ${
                      scorePercent === 100 ? 'perfect' : 
                      scorePercent >= 75 ? 'high' : 
                      scorePercent >= 50 ? 'medium' : 'low'
                    }`}>
                      <span class="dashboard-score-number">{scorePercent}</span>
                      <span class="dashboard-score-symbol">%</span>
                    </div>
                    {item.score.penalties && item.score.penalties.length > 0 && (
                      <div class="dashboard-score-detail">
                        <span class="dashboard-raw-score">Base: {item.score.raw_score}/4</span>
                        <span class="dashboard-penalty-count">-{item.score.raw_score - item.score.effective_score} penalizaci√≥n</span>
                      </div>
                    )}
                  </div>
                </div>
                
                <!-- Penalty Alert -->
                {item.score.penalties && item.score.penalties.length > 0 && (
                  <div class="dashboard-penalty-alert">
                    <span class="dashboard-penalty-icon">‚ö†Ô∏è</span>
                    <div class="dashboard-penalty-content">
                      <span class="dashboard-penalty-title">Penalizaci√≥n fiscal aplicada:</span>
                      {item.score.penalties.map((penalty: any) => (
                        <p class="dashboard-penalty-reason">{penalty.reason}</p>
                      ))}
                    </div>
                  </div>
                )}
                
                <!-- Proposal Preview -->
                {bestProposal && (
                  <div class="dashboard-proposal-section">
                    <h4 class="dashboard-proposal-title">{bestProposal.proposal_title}</h4>
                    <p class="dashboard-proposal-text">{bestProposal.proposal_text}</p>
                    
                    <!-- Dimensions -->
                    <div class="dashboard-dimensions">
                      <span class={`dashboard-dim ${bestProposal.dimensions.existence ? 'active' : ''}`}>
                        <span class="dashboard-dim-icon">üìã</span>
                        <span class="dashboard-dim-label">Existe</span>
                      </span>
                      <span class={`dashboard-dim ${bestProposal.dimensions.when ? 'active' : ''}`}>
                        <span class="dashboard-dim-icon">üìÖ</span>
                        <span class="dashboard-dim-label">Cu√°ndo</span>
                      </span>
                      <span class={`dashboard-dim ${bestProposal.dimensions.how ? 'active' : ''}`}>
                        <span class="dashboard-dim-icon">‚öôÔ∏è</span>
                        <span class="dashboard-dim-label">C√≥mo</span>
                      </span>
                      <span class={`dashboard-dim ${bestProposal.dimensions.funding ? 'active' : ''}`}>
                        <span class="dashboard-dim-icon">üí∞</span>
                        <span class="dashboard-dim-label">Fondos</span>
                      </span>
                    </div>

                    <!-- Evidence -->
                    <div class="dashboard-evidence">
                      <span class="dashboard-evidence-icon">üìÑ</span>
                      <span class="dashboard-evidence-text">
                        Fuente: {bestProposal.evidence.pdf_id} - P√°g. {bestProposal.evidence.page}
                      </span>
                    </div>
                  </div>
                )}
                
                <!-- Footer -->
                <div class="dashboard-card-footer">
                  <a href={`/candidatos/${item.candidate.candidate_id}`} class="dashboard-view-profile">
                    Ver perfil completo ‚Üí
                  </a>
                  {bestProposal && (
                    <a
                      href={getPdfUrl(bestProposal.evidence.pdf_id, bestProposal.evidence.page)}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="dashboard-view-plan"
                    >
                      üìÑ Ver plan (p√°g. {bestProposal.evidence.page})
                    </a>
                  )}
                </div>
              </div>
            );
          })}
      </div>
    </section>

    </div>
  </div>

  <!-- ============================================
       EXPRESS MODE üöÄ - Modo Visual R√°pido
       ============================================ -->
  <div class="mode-express-content">
    <div class="express-detail-container">
      
      <!-- Navigation -->
      <nav class="express-breadcrumb">
        <a href="/pilares" class="express-back-link">
          ‚Üê Volver a Pilares
        </a>
      </nav>

      <!-- Header Card - Informaci√≥n del Pilar -->
      <header class={`express-pilar-header ${isCritical ? 'critical' : ''}`}>
        <div class="express-header-top">
          <div class="express-icon-container">
            <span class="express-pilar-icon">{icon}</span>
            <div class="express-badges">
              <span class="express-badge-id">{pillarId}</span>
              {isCritical && <span class="express-badge-critical">‚≠ê Cr√≠tico</span>}
            </div>
          </div>
          <div class="express-weight-display">
            <span class="express-weight-number">{weightPercent}</span>
            <span class="express-weight-symbol">%</span>
            <span class="express-weight-label">Peso</span>
          </div>
        </div>

        <h1 class="express-pilar-title">{pillarData.pillar.pillar_name}</h1>
        
        <!-- Descripci√≥n del pilar -->
        <div class="express-pilar-description">
          <h2 class="express-section-subtitle">üìã ¬øQu√© eval√∫a este pilar?</h2>
          <p class="express-description-text">
            {PILLAR_DESCRIPTIONS[pillarId] || 'Informaci√≥n no disponible.'}
          </p>
        </div>

        <!-- Impacto al ciudadano -->
        <div class="express-citizen-impact">
          <p class="express-impact-text">
            {PILLAR_CITIZEN_IMPACT[pillarId] || ''}
          </p>
        </div>

        <!-- Promedio General -->
        <div class="express-avg-score">
          <div class="express-avg-visual">
            <div class="express-avg-number">{avgPercent}</div>
            <div class="express-avg-percent">%</div>
          </div>
          <div class="express-avg-info">
            <span class="express-avg-label">Promedio de todos los candidatos</span>
            <span class="express-avg-hint">
              {avgPercent >= 75 ? '‚úÖ Buen desempe√±o general' : 
               avgPercent >= 50 ? 'üü° Desempe√±o moderado' : 
               'üî¥ √Årea con poca atenci√≥n'}
            </span>
          </div>
        </div>

        <!-- Barra de progreso -->
        <div class="express-progress-bar">
          <div class="express-progress-fill" style={`width: ${avgPercent}%`}></div>
        </div>
      </header>

      <!-- Lista Combinada: Ranking + Propuestas -->
      <section class="express-candidates-section">
        <div class="express-section-header">
          <h2 class="express-section-title">üèÜ Candidatos y sus Propuestas</h2>
          <p class="express-section-description">
            Ordenados por calidad de propuesta en este pilar. El porcentaje indica qu√© tan completa es la propuesta.
          </p>
        </div>

        <div class="express-candidates-list">
          {pillarData.topCandidates.map((item, index) => {
          const candidateProposals = proposalsByCandidate[item.candidate.candidate_id] || [];
          const bestProposal = candidateProposals
            .sort((a, b) => {
              const scoreA = a.dimensions.existence + a.dimensions.when + a.dimensions.how + a.dimensions.funding;
              const scoreB = b.dimensions.existence + b.dimensions.when + b.dimensions.how + b.dimensions.funding;
              return scoreB - scoreA;
            })[0];
          
            const scorePercent = Math.round((item.score.effective_score / 4) * 100);
            const candidateName = getCandidateName(item.candidate);
            const medals = ['ü•á', 'ü•à', 'ü•â'];
            const hasMedal = index < 3;
          
          return (
              <div class={`express-candidate-card ${hasMedal ? 'top-three' : ''}`}>
                <div class="express-candidate-header">
                  <div class="express-rank-badge">
                    {hasMedal ? (
                      <span class="express-medal">{medals[index]}</span>
                    ) : (
                      <span class="express-rank-number">{index + 1}</span>
                    )}
                  </div>
                  
                  <div class="express-candidate-info">
                    <h3 class="express-candidate-name">{candidateName}</h3>
                    <p class="express-candidate-party">{item.candidate.party_name}</p>
                  </div>
              
                  <div class="express-score-container">
                    <div class={`express-score-badge ${scorePercent === 100 ? 'perfect' : scorePercent >= 75 ? 'high' : scorePercent >= 50 ? 'medium' : 'low'}`}>
                      <span class="express-score-number">{scorePercent}</span>
                      <span class="express-score-symbol">%</span>
                    </div>
                    {item.score.penalties && item.score.penalties.length > 0 && (
                      <span class="express-penalty-indicator">‚ö†Ô∏è -{item.score.raw_score - item.score.effective_score}</span>
                    )}
                  </div>
                </div>
                
                {/* Penalty Alert */}
                {item.score.penalties && item.score.penalties.length > 0 && (
                  <div class="express-penalty-alert">
                    ‚ö†Ô∏è <strong>Penalizaci√≥n:</strong> {item.score.penalties.map((p: any) => p.reason).join('. ')}
                  </div>
                )}
                
                {bestProposal && (
                  <div class="express-proposal-preview">
                    <h4 class="express-proposal-title">{bestProposal.proposal_title}</h4>
                    <p class="express-proposal-text">{bestProposal.proposal_text}</p>
                    
                    <div class="express-dimensions">
                      <span class={`express-dim ${bestProposal.dimensions.existence ? 'active' : ''}`}>
                        üìã Existe
                      </span>
                      <span class={`express-dim ${bestProposal.dimensions.when ? 'active' : ''}`}>
                        üìÖ Cu√°ndo
                      </span>
                      <span class={`express-dim ${bestProposal.dimensions.how ? 'active' : ''}`}>
                        ‚öôÔ∏è C√≥mo
                      </span>
                      <span class={`express-dim ${bestProposal.dimensions.funding ? 'active' : ''}`}>
                        üí∞ Fondos
                      </span>
                    </div>
                  </div>
                )}
                
                <div class="express-card-footer">
                  <a href={`/candidatos/${item.candidate.candidate_id}`} class="express-view-profile">
                    Ver perfil completo ‚Üí
                  </a>
                  {bestProposal && (
                    <a
                      href={getPdfUrl(bestProposal.evidence.pdf_id, bestProposal.evidence.page)}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="express-view-plan"
                    >
                      üìÑ Ver plan (p√°g. {bestProposal.evidence.page})
                    </a>
                  )}
                </div>
              </div>
          );
        })}
      </div>
    </section>

      <!-- Leyenda -->
      <div class="express-legend">
        <h3 class="express-legend-title">üìä ¬øC√≥mo interpretar el porcentaje?</h3>
        <div class="express-legend-items">
          <div class="express-legend-item">
            <span class="express-legend-dot perfect"></span>
            <span><strong>100%</strong> = Propuesta completa (existe, con plazo, mecanismo y financiamiento)</span>
  </div>
          <div class="express-legend-item">
            <span class="express-legend-dot high"></span>
            <span><strong>75-99%</strong> = Propuesta bien desarrollada</span>
          </div>
          <div class="express-legend-item">
            <span class="express-legend-dot medium"></span>
            <span><strong>50-74%</strong> = Propuesta con informaci√≥n parcial</span>
          </div>
          <div class="express-legend-item">
            <span class="express-legend-dot low"></span>
            <span><strong>0-49%</strong> = Propuesta incompleta o vaga</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- ============================================
       READING MODE üìñ - Modo Lectura (Adultos Mayores)
       ============================================ -->
  <div class="mode-reading-content">
    <article class="reading-pilar-container">
      
      <!-- Navegaci√≥n -->
      <nav class="reading-nav">
        <a href="/pilares" class="reading-back-link">‚Üê Volver a todos los pilares</a>
      </nav>

      <!-- Encabezado del Pilar -->
      <header class="reading-pilar-header">
        <div class="reading-header-badges">
          <span class="reading-badge-id">{pillarId}</span>
          {isCritical && <span class="reading-badge-critical">‚≠ê Pilar Cr√≠tico</span>}
          <span class="reading-badge-weight">Peso: {weightPercent}%</span>
        </div>
        
        <h1 class="reading-pilar-title">
          <span class="reading-pilar-icon">{icon}</span>
          {pillarData.pillar.pillar_name}
        </h1>
      </header>

      <hr class="reading-divider" />

      <!-- Descripci√≥n del Pilar -->
      <section class="reading-section">
        <h2 class="reading-section-title">üìã ¬øQu√© eval√∫a este pilar?</h2>
        <p class="reading-description">
          {PILLAR_DESCRIPTIONS[pillarId] || 'Informaci√≥n no disponible.'}
        </p>
      </section>

      <!-- Impacto al Ciudadano -->
      <section class={`reading-impact-box ${isCritical ? 'critical' : ''}`}>
        <h2 class="reading-impact-title">üë• ¬øC√≥mo le afecta a usted?</h2>
        <p class="reading-impact-text">
          {PILLAR_CITIZEN_IMPACT[pillarId] || ''}
        </p>
      </section>

      <hr class="reading-divider" />

      <!-- Promedio General -->
      <section class="reading-section">
        <h2 class="reading-section-title">üìä Promedio General</h2>
        <div class="reading-avg-display">
          <div class="reading-avg-score">
            <span class="reading-avg-number">{avgPercent}</span>
            <span class="reading-avg-percent">%</span>
          </div>
          <p class="reading-avg-explanation">
            Este es el promedio de <strong>todos los candidatos</strong> en este pilar.
            <br />
            <span class="reading-avg-hint">
              {avgPercent >= 75 ? '‚úÖ En general, los candidatos proponen soluciones en esta √°rea.' : 
               avgPercent >= 50 ? 'üü° Algunos candidatos tienen propuestas, otros no.' : 
               'üî¥ Pocos candidatos abordan este tema con propuestas claras.'}
            </span>
          </p>
        </div>
        
        <div class="reading-stats">
          <div class="reading-stat">
            <span class="reading-stat-value">{pillarData.topCandidates.length}</span>
            <span class="reading-stat-label">candidatos evaluados</span>
          </div>
          <div class="reading-stat">
            <span class="reading-stat-value">{proposals.length}</span>
            <span class="reading-stat-label">propuestas analizadas</span>
          </div>
        </div>
      </section>

      <hr class="reading-divider" />

      <!-- Leyenda -->
      <section class="reading-legend">
        <h2 class="reading-legend-title">üìå ¬øC√≥mo interpretar los porcentajes?</h2>
        <div class="reading-legend-items">
          <div class="reading-legend-item">
            <span class="reading-legend-dot perfect"></span>
            <div>
              <strong>100%</strong> ‚Äî Propuesta completa con existencia, plazo, mecanismo y financiamiento definidos.
            </div>
          </div>
          <div class="reading-legend-item">
            <span class="reading-legend-dot high"></span>
            <div>
              <strong>75-99%</strong> ‚Äî Propuesta bien desarrollada pero le falta alg√∫n detalle.
            </div>
          </div>
          <div class="reading-legend-item">
            <span class="reading-legend-dot medium"></span>
            <div>
              <strong>50-74%</strong> ‚Äî Propuesta con informaci√≥n parcial o incompleta.
            </div>
          </div>
          <div class="reading-legend-item">
            <span class="reading-legend-dot low"></span>
            <div>
              <strong>0-49%</strong> ‚Äî Propuesta muy vaga o sin detalles.
            </div>
          </div>
        </div>
      </section>

      <hr class="reading-divider" />

      <!-- Lista de Candidatos -->
      <section class="reading-candidates-section">
        <h2 class="reading-section-title">üèÜ Ranking de Candidatos en este Pilar</h2>
        <p class="reading-section-intro">
          A continuaci√≥n se muestran los candidatos ordenados por la calidad de sus propuestas en esta √°rea.
        </p>

        <ol class="reading-candidates-list">
          {pillarData.topCandidates.map((item, index) => {
            const candidateProposals = proposalsByCandidate[item.candidate.candidate_id] || [];
            const bestProposal = candidateProposals
              .sort((a, b) => {
                const scoreA = a.dimensions.existence + a.dimensions.when + a.dimensions.how + a.dimensions.funding;
                const scoreB = b.dimensions.existence + b.dimensions.when + b.dimensions.how + b.dimensions.funding;
                return scoreB - scoreA;
              })[0];
            
            const scorePercent = Math.round((item.score.effective_score / 4) * 100);
            const candidateName = getCandidateName(item.candidate);
            const medals = ['ü•á', 'ü•à', 'ü•â'];
            const hasMedal = index < 3;
            
            let scoreClass = 'low';
            if (scorePercent === 100) scoreClass = 'perfect';
            else if (scorePercent >= 75) scoreClass = 'high';
            else if (scorePercent >= 50) scoreClass = 'medium';
            
            return (
              <li class={`reading-candidate-item ${hasMedal ? 'top-three' : ''}`}>
                <div class="reading-candidate-header">
                  <div class="reading-candidate-rank">
                    {hasMedal ? (
                      <span class="reading-medal">{medals[index]}</span>
                    ) : (
                      <span class="reading-rank-number">{index + 1}.</span>
                    )}
                  </div>
                  
                  <div class="reading-candidate-info">
                    <h3 class="reading-candidate-name">{candidateName}</h3>
                    <p class="reading-candidate-party">Partido: {item.candidate.party_name}</p>
                  </div>
                  
                  <div class={`reading-candidate-score ${scoreClass}`}>
                    <span class="reading-score-value">{scorePercent}%</span>
                    {item.score.penalties && item.score.penalties.length > 0 && (
                      <span class="reading-score-base">(Base: {item.score.raw_score}/4)</span>
                    )}
                  </div>
                </div>
                
                {/* Penalty Alert for Reading Mode */}
                {item.score.penalties && item.score.penalties.length > 0 && (
                  <div class="reading-penalty-alert">
                    <h4 class="reading-penalty-title">‚ö†Ô∏è Penalizaci√≥n fiscal aplicada:</h4>
                    {item.score.penalties.map((penalty: any) => (
                      <p class="reading-penalty-reason">
                        <strong>Raz√≥n:</strong> {penalty.reason}
                      </p>
                    ))}
                    <p class="reading-penalty-detail">
                      Puntaje base: <strong>{item.score.raw_score}/4</strong> ‚Üí 
                      Penalizaci√≥n: <strong>-{item.score.raw_score - item.score.effective_score}</strong> ‚Üí 
                      Puntaje final: <strong>{item.score.effective_score}/4 ({scorePercent}%)</strong>
                    </p>
                  </div>
                )}
                
                {bestProposal && (
                  <div class="reading-proposal-box">
                    <h4 class="reading-proposal-title">Propuesta destacada:</h4>
                    <p class="reading-proposal-name">{bestProposal.proposal_title}</p>
                    <p class="reading-proposal-text">{bestProposal.proposal_text}</p>
                    
                    <div class="reading-dimensions">
                      <span class="reading-dimensions-title">Evaluaci√≥n:</span>
                      <span class={`reading-dim ${bestProposal.dimensions.existence ? 'active' : ''}`}>
                        {bestProposal.dimensions.existence ? '‚úÖ' : '‚ùå'} Existe
                      </span>
                      <span class={`reading-dim ${bestProposal.dimensions.when ? 'active' : ''}`}>
                        {bestProposal.dimensions.when ? '‚úÖ' : '‚ùå'} Cu√°ndo
                      </span>
                      <span class={`reading-dim ${bestProposal.dimensions.how ? 'active' : ''}`}>
                        {bestProposal.dimensions.how ? '‚úÖ' : '‚ùå'} C√≥mo
                      </span>
                      <span class={`reading-dim ${bestProposal.dimensions.funding ? 'active' : ''}`}>
                        {bestProposal.dimensions.funding ? '‚úÖ' : '‚ùå'} Fondos
                      </span>
                    </div>
                  </div>
                )}
                
                <div class="reading-candidate-links">
                  <a href={`/candidatos/${item.candidate.candidate_id}`} class="reading-link-profile">
                    üë§ Ver perfil completo del candidato
                  </a>
                  {bestProposal && (
                    <a
                      href={getPdfUrl(bestProposal.evidence.pdf_id, bestProposal.evidence.page)}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="reading-link-plan"
                    >
                      üìÑ Ver en plan de gobierno (P√°g. {bestProposal.evidence.page})
                    </a>
                  )}
                </div>
              </li>
            );
          })}
        </ol>
      </section>

      <hr class="reading-divider" />

      <!-- Navegaci√≥n Final -->
      <footer class="reading-footer">
        <a href="/pilares" class="reading-nav-btn">‚Üê Ver todos los pilares</a>
        <a href="/metodologia" class="reading-nav-btn">¬øC√≥mo se calcula el puntaje? ‚Üí</a>
      </footer>

    </article>
  </div>

</BaseLayout>

<style>
  /* Mode visibility */
  .mode-express-content,
  .mode-reading-content {
    display: none;
  }
  
  .mode-dashboard-content {
    display: block;
  }
  
  html[data-mode="express"] .mode-express-content {
    display: block;
  }
  
  html[data-mode="express"] .mode-dashboard-content,
  html[data-mode="express"] .mode-reading-content {
    display: none;
  }
  
  html[data-mode="reading"] .mode-reading-content {
    display: block;
  }
  
  html[data-mode="reading"] .mode-dashboard-content,
  html[data-mode="reading"] .mode-express-content {
    display: none;
  }

  /* ===========================================
     EXPRESS MODE STYLES
     =========================================== */
  
  .express-detail-container {
    max-width: 50rem;
    margin: 0 auto;
    padding: 1.5rem;
  }
  
  .express-breadcrumb {
    margin-bottom: 1.5rem;
  }
  
  .express-back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: #0891b2;
    padding: 0.75rem 1rem;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 0.75rem;
    transition: all 0.2s;
  }
  
  .express-back-link:hover {
    background: #f0fdfa;
    border-color: #0891b2;
  }
  
  /* Header Card */
  .express-pilar-header {
    background: white;
    border-radius: 1.5rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 3px solid #e2e8f0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  }
  
  .express-pilar-header.critical {
    border-color: #fcd34d;
    background: linear-gradient(135deg, #fffbeb 0%, white 50%);
  }
  
  .express-header-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
  }
  
  .express-icon-container {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .express-pilar-icon {
    font-size: 3.5rem;
    line-height: 1;
  }
  
  .express-badges {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  
  .express-badge-id {
    font-size: 0.875rem;
    font-weight: 700;
    padding: 0.25rem 0.75rem;
    background: #f1f5f9;
    color: #475569;
    border-radius: 9999px;
  }
  
  .express-badge-critical {
    font-size: 0.875rem;
    font-weight: 700;
    padding: 0.25rem 0.75rem;
    background: #fef3c7;
    color: #92400e;
    border-radius: 9999px;
  }
  
  .express-weight-display {
    text-align: center;
    background: linear-gradient(135deg, #06b6d4, #0891b2);
    color: white;
    padding: 1rem;
    border-radius: 1rem;
    min-width: 5rem;
  }
  
  .express-pilar-header.critical .express-weight-display {
    background: linear-gradient(135deg, #f59e0b, #d97706);
  }
  
  .express-weight-number {
    font-size: 2.5rem;
    font-weight: 800;
    line-height: 1;
    display: block;
  }
  
  .express-weight-symbol {
    font-size: 1.25rem;
    font-weight: 700;
  }
  
  .express-weight-label {
    font-size: 0.75rem;
    opacity: 0.9;
    display: block;
    margin-top: 0.25rem;
  }
  
  .express-pilar-title {
    font-size: 1.75rem;
    font-weight: 800;
    color: #1e293b;
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }
  
  .express-section-subtitle {
    font-size: 1rem;
    font-weight: 700;
    color: #475569;
    margin-bottom: 0.5rem;
  }
  
  .express-pilar-description {
    margin-bottom: 1rem;
  }
  
  .express-description-text {
    font-size: 1rem;
    line-height: 1.7;
    color: #475569;
  }
  
  .express-citizen-impact {
    background: linear-gradient(135deg, #ecfeff, #f0fdf4);
    border: 2px solid #a7f3d0;
    border-radius: 1rem;
    padding: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .express-pilar-header.critical .express-citizen-impact {
    background: linear-gradient(135deg, #fffbeb, #fef3c7);
    border-color: #fcd34d;
  }
  
  .express-impact-text {
    font-size: 1rem;
    line-height: 1.6;
    color: #1e293b;
    font-weight: 500;
  }
  
  .express-avg-score {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.75rem;
  }
  
  .express-avg-visual {
    display: flex;
    align-items: baseline;
  }
  
  .express-avg-number {
    font-size: 3.5rem;
    font-weight: 800;
    line-height: 1;
    background: linear-gradient(135deg, #06b6d4, #0891b2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .express-pilar-header.critical .express-avg-number {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .express-avg-percent {
    font-size: 1.5rem;
    font-weight: 700;
    color: #0891b2;
  }
  
  .express-pilar-header.critical .express-avg-percent {
    color: #d97706;
  }
  
  .express-avg-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }
  
  .express-avg-label {
    font-size: 0.875rem;
    color: #64748b;
  }
  
  .express-avg-hint {
    font-size: 0.875rem;
    font-weight: 600;
  }
  
  .express-progress-bar {
    height: 0.75rem;
    background: #e2e8f0;
    border-radius: 9999px;
    overflow: hidden;
  }
  
  .express-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #06b6d4, #0891b2);
    border-radius: 9999px;
    transition: width 0.5s ease;
  }
  
  .express-pilar-header.critical .express-progress-fill {
    background: linear-gradient(90deg, #f59e0b, #d97706);
  }
  
  /* Candidates Section */
  .express-candidates-section {
    margin-bottom: 1.5rem;
  }
  
  .express-section-header {
    margin-bottom: 1rem;
  }
  
  .express-section-title {
    font-size: 1.5rem;
    font-weight: 800;
    color: #1e293b;
    margin-bottom: 0.5rem;
  }
  
  .express-section-description {
    font-size: 0.95rem;
    color: #64748b;
  }
  
  .express-candidates-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .express-candidate-card {
    display: block;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 1.25rem;
    padding: 1.25rem;
    transition: all 0.2s;
    text-decoration: none;
  }
  
  .express-candidate-card:hover {
    border-color: #0891b2;
    box-shadow: 0 4px 20px rgba(8, 145, 178, 0.15);
    transform: translateY(-2px);
  }
  
  .express-candidate-card.top-three {
    background: linear-gradient(135deg, #fffbeb 0%, white 50%);
    border-color: #fcd34d;
  }
  
  .express-candidate-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }
  
  .express-rank-badge {
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    background: #f1f5f9;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  .express-medal {
    font-size: 1.75rem;
    line-height: 1;
  }
  
  .express-rank-number {
    font-size: 1.25rem;
    font-weight: 700;
    color: #64748b;
  }
  
  .express-candidate-info {
    flex: 1;
    min-width: 0;
  }
  
  .express-candidate-name {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.125rem;
    line-height: 1.3;
  }
  
  .express-candidate-party {
    font-size: 0.95rem;
    color: #64748b;
  }
  
  .express-score-badge {
    display: flex;
    align-items: baseline;
    gap: 0.125rem;
    padding: 0.5rem 1rem;
    border-radius: 0.75rem;
    flex-shrink: 0;
  }
  
  .express-score-badge.perfect {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
  }
  
  .express-score-badge.high {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
  }
  
  .express-score-badge.medium {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
  }
  
  .express-score-badge.low {
    background: #f1f5f9;
    color: #64748b;
  }
  
  .express-score-container {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 0.25rem;
  }
  
  .express-score-number {
    font-size: 1.5rem;
    font-weight: 800;
    line-height: 1;
  }
  
  .express-penalty-indicator {
    font-size: 0.7rem;
    font-weight: 600;
    color: #dc2626;
    background: #fef2f2;
    padding: 0.125rem 0.5rem;
    border-radius: 0.25rem;
  }
  
  .express-penalty-alert {
    padding: 0.625rem 0.875rem;
    background: linear-gradient(135deg, #fef2f2, #fff7ed);
    border: 2px solid #fecaca;
    border-radius: 0.5rem;
    margin-bottom: 0.75rem;
    font-size: 0.8rem;
    color: #7f1d1d;
    line-height: 1.5;
  }
  
  .express-score-symbol {
    font-size: 0.875rem;
    font-weight: 600;
  }
  
  .express-proposal-preview {
    background: #f8fafc;
    border-radius: 0.75rem;
    padding: 1rem;
    margin-bottom: 0.75rem;
  }
  
  .express-proposal-title {
    font-size: 1rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.5rem;
  }
  
  .express-proposal-text {
    font-size: 0.9rem;
    line-height: 1.6;
    color: #475569;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    margin-bottom: 0.75rem;
  }
  
  .express-dimensions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  
  .express-dim {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 0.5rem;
    background: #f1f5f9;
    color: #94a3b8;
  }
  
  .express-dim.active {
    background: #d1fae5;
    color: #059669;
  }
  
  .express-card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #e2e8f0;
  }
  
  .express-view-profile {
    font-size: 0.9rem;
    font-weight: 600;
    color: #0891b2;
    text-decoration: none;
    transition: color 0.2s;
  }
  
  .express-view-profile:hover {
    color: #0e7490;
    text-decoration: underline;
  }
  
  .express-view-plan {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.8rem;
    font-weight: 500;
    color: #64748b;
    text-decoration: none;
    padding: 0.375rem 0.75rem;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
  }
  
  .express-view-plan:hover {
    background: #e0f2fe;
    border-color: #0891b2;
    color: #0891b2;
  }
  
  /* Legend */
  .express-legend {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 1rem;
    padding: 1.25rem;
  }
  
  .express-legend-title {
    font-size: 1rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.75rem;
  }
  
  .express-legend-items {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .express-legend-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.875rem;
    color: #475569;
  }
  
  .express-legend-dot {
    width: 1rem;
    height: 1rem;
    border-radius: 0.25rem;
    flex-shrink: 0;
  }
  
  .express-legend-dot.perfect {
    background: linear-gradient(135deg, #10b981, #059669);
  }
  
  .express-legend-dot.high {
    background: linear-gradient(135deg, #22c55e, #16a34a);
  }
  
  .express-legend-dot.medium {
    background: linear-gradient(135deg, #f59e0b, #d97706);
  }
  
  .express-legend-dot.low {
    background: #e2e8f0;
  }
  
  /* Responsive */
  @media (max-width: 640px) {
    .express-detail-container {
      padding: 1rem;
    }
    
    .express-pilar-title {
      font-size: 1.5rem;
    }
    
    .express-header-top {
      flex-direction: column;
      gap: 1rem;
    }
    
    .express-weight-display {
      align-self: flex-start;
    }
    
    .express-candidate-header {
      flex-wrap: wrap;
    }
    
    .express-score-badge {
      margin-left: auto;
    }
    
    .express-avg-score {
      flex-direction: column;
      align-items: flex-start;
    }
  }

  /* ===========================================
     DASHBOARD MODE STYLES - Modo Visual Detallado
     =========================================== */
  
  /* Header Card */
  .dashboard-pilar-header {
    background: white;
    border-radius: 1.5rem;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 2px solid #e2e8f0;
    box-shadow: 0 4px 24px rgba(0,0,0,0.06);
  }
  
  .dashboard-pilar-header.critical {
    border-color: #fcd34d;
    background: linear-gradient(135deg, #fffbeb 0%, white 30%);
  }
  
  .dashboard-header-grid {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 2rem;
    margin-bottom: 2rem;
  }
  
  .dashboard-header-left {
    flex: 1;
  }
  
  .dashboard-icon-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }
  
  .dashboard-pilar-icon {
    font-size: 4rem;
    line-height: 1;
  }
  
  .dashboard-badges {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  
  .dashboard-badge-id {
    font-size: 0.875rem;
    font-weight: 700;
    padding: 0.375rem 0.875rem;
    background: #f1f5f9;
    color: #475569;
    border-radius: 9999px;
  }
  
  .dashboard-badge-critical {
    font-size: 0.875rem;
    font-weight: 700;
    padding: 0.375rem 0.875rem;
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    color: #92400e;
    border-radius: 9999px;
  }
  
  .dashboard-pilar-title {
    font-size: 2.5rem;
    font-weight: 800;
    color: #1e293b;
    line-height: 1.2;
  }
  
  .dashboard-header-right {
    flex-shrink: 0;
  }
  
  .dashboard-weight-card {
    background: linear-gradient(135deg, #06b6d4, #0891b2);
    color: white;
    padding: 1.5rem 2rem;
    border-radius: 1.25rem;
    text-align: center;
    box-shadow: 0 8px 24px rgba(6, 182, 212, 0.3);
  }
  
  .dashboard-weight-card.critical {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    box-shadow: 0 8px 24px rgba(245, 158, 11, 0.3);
  }
  
  .dashboard-weight-value {
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: 0.125rem;
  }
  
  .dashboard-weight-number {
    font-size: 3.5rem;
    font-weight: 800;
    line-height: 1;
  }
  
  .dashboard-weight-symbol {
    font-size: 1.5rem;
    font-weight: 700;
  }
  
  .dashboard-weight-label {
    font-size: 0.875rem;
    opacity: 0.9;
    margin-top: 0.5rem;
    display: block;
  }
  
  /* Description Section */
  .dashboard-pilar-description {
    display: flex;
    gap: 1rem;
    padding: 1.5rem;
    background: #f8fafc;
    border-radius: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .dashboard-desc-icon {
    font-size: 2rem;
    flex-shrink: 0;
  }
  
  .dashboard-desc-content {
    flex: 1;
  }
  
  .dashboard-desc-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.5rem;
  }
  
  .dashboard-desc-text {
    font-size: 1rem;
    line-height: 1.7;
    color: #475569;
  }
  
  /* Citizen Impact */
  .dashboard-citizen-impact {
    background: linear-gradient(135deg, #ecfeff, #f0fdf4);
    border: 2px solid #a7f3d0;
    border-radius: 1rem;
    padding: 1.25rem 1.5rem;
    margin-bottom: 1.5rem;
  }
  
  .dashboard-citizen-impact.critical {
    background: linear-gradient(135deg, #fffbeb, #fef3c7);
    border-color: #fcd34d;
  }
  
  .dashboard-impact-text {
    font-size: 1.0625rem;
    line-height: 1.7;
    color: #1e293b;
    font-weight: 500;
  }
  
  /* Stats Row */
  .dashboard-stats-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    padding: 1.5rem;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .dashboard-stat-item {
    text-align: center;
  }
  
  .dashboard-stat-value {
    font-size: 2rem;
    font-weight: 800;
    color: #0891b2;
    line-height: 1;
  }
  
  .dashboard-stat-value.critical {
    color: #d97706;
  }
  
  .dashboard-stat-label {
    font-size: 0.875rem;
    color: #64748b;
    margin-top: 0.375rem;
  }
  
  .dashboard-stat-divider {
    width: 2px;
    height: 3rem;
    background: #e2e8f0;
  }
  
  /* Progress Bar */
  .dashboard-progress-container {
    margin-bottom: 0;
  }
  
  .dashboard-progress-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: #64748b;
    margin-bottom: 0.5rem;
  }
  
  .dashboard-progress-bar {
    height: 1rem;
    background: #e2e8f0;
    border-radius: 9999px;
    overflow: hidden;
  }
  
  .dashboard-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #06b6d4, #0891b2);
    border-radius: 9999px;
    transition: width 0.5s ease;
  }
  
  .dashboard-progress-fill.critical {
    background: linear-gradient(90deg, #f59e0b, #d97706);
  }
  
  /* Legend */
  .dashboard-legend {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .dashboard-legend-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 1rem;
  }
  
  .dashboard-legend-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1rem;
  }
  
  .dashboard-legend-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    font-size: 0.9rem;
    color: #475569;
  }
  
  .dashboard-legend-item .dashboard-legend-dot {
    width: 1.25rem;
    height: 1.25rem;
    border-radius: 0.375rem;
    flex-shrink: 0;
    margin-top: 0.125rem;
  }
  
  .dashboard-legend-item.perfect .dashboard-legend-dot {
    background: linear-gradient(135deg, #10b981, #059669);
  }
  
  .dashboard-legend-item.high .dashboard-legend-dot {
    background: linear-gradient(135deg, #22c55e, #16a34a);
  }
  
  .dashboard-legend-item.medium .dashboard-legend-dot {
    background: linear-gradient(135deg, #f59e0b, #d97706);
  }
  
  .dashboard-legend-item.low .dashboard-legend-dot {
    background: #e2e8f0;
  }
  
  .dashboard-legend-item div {
    display: flex;
    flex-direction: column;
  }
  
  .dashboard-legend-item strong {
    color: #1e293b;
    margin-bottom: 0.125rem;
  }
  
  .dashboard-legend-item span {
    font-size: 0.8rem;
  }
  
  /* Candidates Section */
  .dashboard-candidates-section {
    margin-bottom: 2rem;
  }
  
  .dashboard-section-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .dashboard-section-icon {
    font-size: 2.5rem;
    line-height: 1;
  }
  
  .dashboard-section-title {
    font-size: 1.75rem;
    font-weight: 800;
    color: #1e293b;
    margin-bottom: 0.25rem;
  }
  
  .dashboard-section-subtitle {
    font-size: 1rem;
    color: #64748b;
  }
  
  .dashboard-candidates-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 1.5rem;
  }
  
  /* Candidate Card */
  .dashboard-candidate-card {
    display: flex;
    flex-direction: column;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 1.25rem;
    padding: 1.5rem;
    transition: all 0.25s ease;
    text-decoration: none;
  }
  
  .dashboard-candidate-card:hover {
    border-color: #0891b2;
    box-shadow: 0 8px 32px rgba(8, 145, 178, 0.15);
    transform: translateY(-4px);
  }
  
  .dashboard-candidate-card.top-three {
    background: linear-gradient(135deg, #fffbeb 0%, white 50%);
    border-color: #fcd34d;
  }
  
  .dashboard-candidate-card.top-three:hover {
    border-color: #f59e0b;
    box-shadow: 0 8px 32px rgba(245, 158, 11, 0.2);
  }
  
  .dashboard-card-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #f1f5f9;
  }
  
  .dashboard-rank-container {
    flex-shrink: 0;
  }
  
  .dashboard-medal {
    font-size: 2.5rem;
    line-height: 1;
  }
  
  .dashboard-rank-badge {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: #f1f5f9;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.125rem;
    font-weight: 700;
    color: #64748b;
  }
  
  .dashboard-rank-badge.top-five {
    background: linear-gradient(135deg, #e0f2fe, #cffafe);
    color: #0891b2;
  }
  
  .dashboard-candidate-info {
    flex: 1;
    min-width: 0;
  }
  
  .dashboard-candidate-name {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.125rem;
    line-height: 1.3;
  }
  
  .dashboard-candidate-party {
    font-size: 0.95rem;
    color: #64748b;
  }
  
  .dashboard-score-badge {
    display: flex;
    align-items: baseline;
    gap: 0.125rem;
    padding: 0.75rem 1.25rem;
    border-radius: 1rem;
    flex-shrink: 0;
  }
  
  .dashboard-score-badge.perfect {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
  }
  
  .dashboard-score-badge.high {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
  }
  
  .dashboard-score-badge.medium {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
  }
  
  .dashboard-score-badge.low {
    background: #f1f5f9;
    color: #64748b;
  }
  
  .dashboard-score-container {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 0.25rem;
  }
  
  .dashboard-score-number {
    font-size: 1.75rem;
    font-weight: 800;
    line-height: 1;
  }
  
  .dashboard-score-detail {
    display: flex;
    gap: 0.5rem;
    font-size: 0.75rem;
  }
  
  .dashboard-raw-score {
    color: #64748b;
  }
  
  .dashboard-penalty-count {
    color: #dc2626;
    font-weight: 600;
  }
  
  .dashboard-penalty-alert {
    display: flex;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: linear-gradient(135deg, #fef2f2, #fff7ed);
    border: 2px solid #fecaca;
    border-radius: 0.75rem;
    margin-bottom: 1rem;
  }
  
  .dashboard-penalty-icon {
    font-size: 1.25rem;
    flex-shrink: 0;
  }
  
  .dashboard-penalty-content {
    flex: 1;
  }
  
  .dashboard-penalty-title {
    font-size: 0.8rem;
    font-weight: 700;
    color: #dc2626;
    margin-bottom: 0.25rem;
  }
  
  .dashboard-penalty-reason {
    font-size: 0.85rem;
    color: #7f1d1d;
    margin: 0;
    line-height: 1.5;
  }
  
  .dashboard-score-symbol {
    font-size: 1rem;
    font-weight: 600;
  }
  
  /* Proposal Section */
  .dashboard-proposal-section {
    flex: 1;
    margin-bottom: 1rem;
  }
  
  .dashboard-proposal-title {
    font-size: 1.0625rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.5rem;
    line-height: 1.4;
  }
  
  .dashboard-proposal-text {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: #475569;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    margin-bottom: 1rem;
  }
  
  /* Dimensions */
  .dashboard-dimensions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }
  
  .dashboard-dim {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.8rem;
    padding: 0.375rem 0.625rem;
    border-radius: 0.5rem;
    background: #f1f5f9;
    color: #94a3b8;
  }
  
  .dashboard-dim.active {
    background: #d1fae5;
    color: #059669;
  }
  
  .dashboard-dim-icon {
    font-size: 0.875rem;
  }
  
  .dashboard-dim-label {
    font-weight: 500;
  }
  
  /* Evidence */
  .dashboard-evidence {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    color: #64748b;
    padding: 0.5rem;
    background: #f8fafc;
    border-radius: 0.5rem;
  }
  
  .dashboard-evidence-icon {
    font-size: 1rem;
  }
  
  /* Card Footer */
  .dashboard-card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
    margin-top: auto;
    padding-top: 1rem;
    border-top: 1px solid #f1f5f9;
  }
  
  .dashboard-view-profile {
    font-size: 0.9375rem;
    font-weight: 600;
    color: #0891b2;
    text-decoration: none;
    transition: color 0.2s;
  }
  
  .dashboard-view-profile:hover {
    color: #0e7490;
    text-decoration: underline;
  }
  
  .dashboard-view-plan {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: #64748b;
    text-decoration: none;
    padding: 0.5rem 0.875rem;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
  }
  
  .dashboard-view-plan:hover {
    background: #e0f2fe;
    border-color: #0891b2;
    color: #0891b2;
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .dashboard-pilar-header {
      padding: 1.5rem;
    }
    
    .dashboard-header-grid {
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .dashboard-pilar-title {
      font-size: 1.75rem;
    }
    
    .dashboard-weight-card {
      align-self: flex-start;
    }
    
    .dashboard-stats-row {
      flex-direction: column;
      gap: 1rem;
    }
    
    .dashboard-stat-divider {
      width: 80%;
      height: 2px;
    }
    
    .dashboard-candidates-grid {
      grid-template-columns: 1fr;
    }
    
    .dashboard-legend-grid {
      grid-template-columns: 1fr;
    }
  }

  /* ===========================================
     READING MODE STYLES - Modo Lectura (Adultos Mayores)
     Fuentes grandes, alto contraste, interlineado generoso
     =========================================== */
  
  .reading-pilar-container {
    max-width: 48rem;
    margin: 0 auto;
    padding: 3rem 2rem;
    font-family: Georgia, 'Times New Roman', serif !important;
    font-size: 1.25rem;
    line-height: 1.9;
    color: #1e293b;
  }
  
  .reading-pilar-container * {
    font-family: Georgia, 'Times New Roman', serif !important;
  }
  
  /* Navegaci√≥n */
  .reading-nav {
    margin-bottom: 2rem;
  }
  
  .reading-back-link {
    display: inline-block;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1d4ed8;
    text-decoration: none;
    padding: 0.75rem 1.25rem;
    border: 3px solid #1d4ed8;
    border-radius: 0.75rem;
    transition: all 0.2s;
  }
  
  .reading-back-link:hover {
    background: #eff6ff;
    color: #1e40af;
  }
  
  /* Header */
  .reading-pilar-header {
    margin-bottom: 1.5rem;
  }
  
  .reading-header-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1rem;
  }
  
  .reading-badge-id {
    font-size: 1rem;
    font-weight: 700;
    padding: 0.375rem 1rem;
    background: #f1f5f9;
    color: #475569;
    border-radius: 0.5rem;
  }
  
  .reading-badge-critical {
    font-size: 1rem;
    font-weight: 700;
    padding: 0.375rem 1rem;
    background: #fef3c7;
    color: #92400e;
    border-radius: 0.5rem;
  }
  
  .reading-badge-weight {
    font-size: 1rem;
    font-weight: 600;
    padding: 0.375rem 1rem;
    background: #e0f2fe;
    color: #0369a1;
    border-radius: 0.5rem;
  }
  
  .reading-pilar-title {
    font-size: 2.5rem;
    font-weight: bold;
    color: #1e293b;
    line-height: 1.3;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  
  .reading-pilar-icon {
    font-size: 3rem;
  }
  
  .reading-divider {
    border: none;
    border-top: 3px solid #94a3b8;
    margin: 2.5rem 0;
  }
  
  /* Secciones */
  .reading-section {
    margin-bottom: 2rem;
  }
  
  .reading-section-title {
    font-size: 1.75rem;
    font-weight: bold;
    color: #1e293b;
    margin-bottom: 1rem;
  }
  
  .reading-section-intro {
    font-size: 1.125rem;
    color: #475569;
    margin-bottom: 1.5rem;
  }
  
  .reading-description {
    font-size: 1.25rem;
    line-height: 1.9;
    color: #334155;
    padding: 1.25rem;
    background: #f8fafc;
    border-left: 5px solid #0891b2;
    border-radius: 0.5rem;
  }
  
  /* Impacto */
  .reading-impact-box {
    background: linear-gradient(135deg, #ecfeff, #f0fdf4);
    border: 3px solid #a7f3d0;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .reading-impact-box.critical {
    background: linear-gradient(135deg, #fffbeb, #fef3c7);
    border-color: #fcd34d;
  }
  
  .reading-impact-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: #1e293b;
    margin-bottom: 0.75rem;
  }
  
  .reading-impact-text {
    font-size: 1.25rem;
    line-height: 1.8;
    color: #1e293b;
  }
  
  /* Promedio */
  .reading-avg-display {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
  }
  
  .reading-avg-score {
    display: flex;
    align-items: baseline;
    gap: 0.125rem;
  }
  
  .reading-avg-number {
    font-size: 4.5rem;
    font-weight: 800;
    line-height: 1;
    color: #0891b2;
  }
  
  .reading-avg-percent {
    font-size: 2rem;
    font-weight: 700;
    color: #0891b2;
  }
  
  .reading-avg-explanation {
    flex: 1;
    min-width: 200px;
    font-size: 1.125rem;
    line-height: 1.7;
    color: #475569;
  }
  
  .reading-avg-hint {
    display: block;
    margin-top: 0.5rem;
    font-weight: 600;
    font-size: 1.125rem;
  }
  
  .reading-stats {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
  }
  
  .reading-stat {
    display: flex;
    flex-direction: column;
    padding: 1rem 1.5rem;
    background: white;
    border: 3px solid #e2e8f0;
    border-radius: 0.75rem;
  }
  
  .reading-stat-value {
    font-size: 2rem;
    font-weight: 800;
    color: #0891b2;
    line-height: 1;
  }
  
  .reading-stat-label {
    font-size: 1rem;
    color: #64748b;
    margin-top: 0.25rem;
  }
  
  /* Leyenda */
  .reading-legend {
    background: #fffbeb;
    border: 3px solid #fcd34d;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .reading-legend-title {
    font-size: 1.25rem;
    font-weight: bold;
    color: #92400e;
    margin-bottom: 1rem;
  }
  
  .reading-legend-items {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .reading-legend-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    font-size: 1.125rem;
    color: #1e293b;
  }
  
  .reading-legend-dot {
    width: 1.25rem;
    height: 1.25rem;
    border-radius: 0.25rem;
    flex-shrink: 0;
    margin-top: 0.25rem;
  }
  
  .reading-legend-dot.perfect {
    background: linear-gradient(135deg, #10b981, #059669);
  }
  
  .reading-legend-dot.high {
    background: linear-gradient(135deg, #22c55e, #16a34a);
  }
  
  .reading-legend-dot.medium {
    background: linear-gradient(135deg, #f59e0b, #d97706);
  }
  
  .reading-legend-dot.low {
    background: #e2e8f0;
  }
  
  /* Lista de Candidatos */
  .reading-candidates-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  
  .reading-candidate-item {
    background: white;
    border: 3px solid #e2e8f0;
    border-radius: 1rem;
    padding: 1.5rem;
  }
  
  .reading-candidate-item.top-three {
    border-color: #fcd34d;
    background: linear-gradient(135deg, #fffbeb 0%, white 50%);
  }
  
  .reading-candidate-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
  }
  
  .reading-candidate-rank {
    flex-shrink: 0;
  }
  
  .reading-medal {
    font-size: 2.5rem;
    line-height: 1;
  }
  
  .reading-rank-number {
    font-size: 1.75rem;
    font-weight: 800;
    color: #64748b;
  }
  
  .reading-candidate-info {
    flex: 1;
    min-width: 0;
  }
  
  .reading-candidate-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0 0 0.25rem 0;
    line-height: 1.3;
  }
  
  .reading-candidate-party {
    font-size: 1.125rem;
    color: #64748b;
    margin: 0;
  }
  
  .reading-candidate-score {
    padding: 0.75rem 1.25rem;
    border-radius: 0.75rem;
    flex-shrink: 0;
  }
  
  .reading-candidate-score.perfect {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
  }
  
  .reading-candidate-score.high {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
  }
  
  .reading-candidate-score.medium {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
  }
  
  .reading-candidate-score.low {
    background: #f1f5f9;
    color: #64748b;
  }
  
  .reading-score-value {
    font-size: 1.5rem;
    font-weight: 800;
  }
  
  .reading-score-base {
    display: block;
    font-size: 0.9rem;
    font-weight: 500;
    opacity: 0.8;
    margin-top: 0.25rem;
  }
  
  .reading-penalty-alert {
    background: linear-gradient(135deg, #fef2f2, #fff7ed);
    border: 3px solid #fecaca;
    border-radius: 0.75rem;
    padding: 1.25rem;
    margin-bottom: 1rem;
  }
  
  .reading-penalty-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #dc2626;
    margin: 0 0 0.75rem 0;
  }
  
  .reading-penalty-reason {
    font-size: 1.125rem;
    line-height: 1.7;
    color: #7f1d1d;
    margin: 0 0 0.75rem 0;
  }
  
  .reading-penalty-detail {
    font-size: 1rem;
    color: #991b1b;
    margin: 0;
    padding-top: 0.75rem;
    border-top: 2px solid #fecaca;
  }
  
  /* Propuesta */
  .reading-proposal-box {
    background: #f8fafc;
    border-radius: 0.75rem;
    padding: 1.25rem;
    margin-bottom: 1rem;
  }
  
  .reading-proposal-title {
    font-size: 1rem;
    font-weight: 600;
    color: #64748b;
    margin: 0 0 0.5rem 0;
  }
  
  .reading-proposal-name {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0 0 0.75rem 0;
  }
  
  .reading-proposal-text {
    font-size: 1.125rem;
    line-height: 1.8;
    color: #475569;
    margin: 0 0 1rem 0;
  }
  
  .reading-dimensions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-items: center;
  }
  
  .reading-dimensions-title {
    font-size: 1rem;
    font-weight: 600;
    color: #64748b;
  }
  
  .reading-dim {
    font-size: 1rem;
    padding: 0.375rem 0.75rem;
    border-radius: 0.5rem;
    background: #f1f5f9;
    color: #64748b;
  }
  
  .reading-dim.active {
    background: #d1fae5;
    color: #059669;
  }
  
  /* Links */
  .reading-candidate-links {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }
  
  .reading-link-profile,
  .reading-link-plan {
    font-size: 1.125rem;
    font-weight: 600;
    padding: 0.75rem 1.25rem;
    border-radius: 0.75rem;
    text-decoration: none;
    transition: all 0.2s;
  }
  
  .reading-link-profile {
    background: #1d4ed8 !important;
    color: white !important;
    border: 3px solid #1d4ed8 !important;
  }
  
  .reading-link-profile:hover {
    background: #1e40af !important;
    border-color: #1e40af !important;
    color: white !important;
  }
  
  .reading-link-plan {
    background: white;
    color: #1d4ed8;
    border: 3px solid #1d4ed8;
  }
  
  .reading-link-plan:hover {
    background: #eff6ff;
  }
  
  /* Footer */
  .reading-footer {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    flex-wrap: wrap;
  }
  
  .reading-nav-btn {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1d4ed8;
    padding: 1rem 1.5rem;
    border: 3px solid #1d4ed8;
    border-radius: 0.75rem;
    background: white;
    text-decoration: none;
    transition: all 0.2s;
  }
  
  .reading-nav-btn:hover {
    background: #eff6ff;
    color: #1e40af;
    border-color: #1e40af;
  }
  
  /* Responsive para m√≥vil */
  @media (max-width: 640px) {
    .reading-pilar-container {
      padding: 2rem 1.25rem;
      font-size: 1.125rem;
    }
    
    .reading-pilar-title {
      font-size: 1.75rem;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
    
    .reading-pilar-icon {
      font-size: 2.5rem;
    }
    
    .reading-avg-display {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .reading-avg-number {
      font-size: 3.5rem;
    }
    
    .reading-candidate-header {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .reading-candidate-links {
      flex-direction: column;
    }
    
    .reading-link-profile,
    .reading-link-plan {
      text-align: center;
    }
    
    .reading-footer {
      flex-direction: column;
    }
    
    .reading-nav-btn {
      text-align: center;
    }
  }
</style>
